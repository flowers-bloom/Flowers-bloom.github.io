<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[反转链表]]></title>
    <url>%2F2019%2F07%2F19%2F%E5%8F%8D%E8%BD%AC%E9%93%BE%E8%A1%A8%2F</url>
    <content type="text"><![CDATA[–&gt;传送门题解：1、遍历法需要遍历、头、尾三个指针，从尾部开始反转12345678910111213141516171819/** * @param ListNode $head * @return ListNode */function reverseList($head) &#123; if ($head == null) return null; $prev = $p = $head; $tail = $head-&gt;next; while ($tail) &#123; $p = $tail; $tail = $p-&gt;next; $p-&gt;next = $prev; $prev = $p; &#125; $head-&gt;next = null; return $p;&#125; 2、数组法先遍历存储指针，再从头部开始反转123456789101112131415161718192021222324/** * @param ListNode $head * @return ListNode */function reverseList($head) &#123; if ($head == null) return null; $_head = null; $p = $head; $arr = []; while ($p-&gt;next) &#123; $arr[] = $p; $p = $p-&gt;next; &#125; $_head = $p; $i = count($arr); while($i != 0) &#123; $p-&gt;next = $arr[--$i]; $p = $arr[$i]; &#125; $arr[0]-&gt;next = null; return $_head;&#125;]]></content>
      <categories>
        <category>题解</category>
      </categories>
      <tags>
        <tag>php</tag>
        <tag>链表</tag>
        <tag>数据结构</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[报名系统-完整版]]></title>
    <url>%2F2019%2F06%2F16%2F%E6%8A%A5%E5%90%8D%E7%B3%BB%E7%BB%9F-%E5%AE%8C%E6%95%B4%E7%89%88%2F</url>
    <content type="text"><![CDATA[–&gt;项目地址一、项目展示1、报名页面 2、管理员登录 3、管理员页面（1）首页（2）新增（3）编辑（4）删除 二、自我评价优点：使用了laravel自带脚手架实现管理员登录，使得实现过程简单，并且功能完整，界面简洁。一些细节也照顾到了，比如报名表单的验证，异常的输出。不足：管理员首页的报名信息未按指定字段排列，并且没有实现分页和查询报名信息功能，一定上不方便用户浏览。]]></content>
      <categories>
        <category>web开发</category>
        <category>项目</category>
      </categories>
      <tags>
        <tag>laravel</tag>
        <tag>后端</tag>
        <tag>报名系统</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[报名系统]]></title>
    <url>%2F2019%2F06%2F01%2F%E6%8A%A5%E5%90%8D%E7%B3%BB%E7%BB%9F%2F</url>
    <content type="text"><![CDATA[–&gt;项目地址1.编写前端代码(简易版，前端不做对输入正误的检测)在views目录下创建form.blade.php文件12345678910111213141516171819202122232425262728293031323334353637383940&lt;!Doctype html&gt;&lt;html&gt; &lt;head&gt; &lt;meta charset=&quot;utf-8&quot;&gt; &lt;title&gt;报名页面&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;h3 align=&quot;center&quot;&gt;报名页面&lt;/h3&gt; &lt;form action=&#123;&#123; url(&apos;sign/form&apos;) &#125;&#125; method=&quot;post&quot; &gt; &lt;div class=&quot;form-group&quot; align=&quot;center&quot;&gt; &lt;label&gt;学号&lt;/label&gt; &lt;input type=&quot;text&quot; name=&quot;stuId&quot; class=&quot;form-control&quot; placeholder=&quot;学号&quot; &gt; &lt;/div&gt; &lt;div class=&quot;form-group&quot; align=&quot;center&quot;&gt; &lt;label&gt;姓名&lt;/label&gt; &lt;input type=&quot;text&quot; name=&quot;name&quot; class=&quot;form-control&quot; placeholder=&quot;名字&quot; &gt; &lt;/div&gt; &lt;div class=&quot;form-group&quot; align=&quot;center&quot;&gt; &lt;label&gt;年龄&lt;/label&gt; &lt;input type=&quot;text&quot; name=&quot;age&quot; class=&quot;form-control&quot; placeholder=&quot;年龄&quot; &gt; &lt;/div&gt; &lt;div class=&quot;form-group&quot; align=&quot;center&quot;&gt; &lt;label&gt;邮箱&lt;/label&gt; &lt;input type=&quot;text&quot; name=&quot;email&quot; class=&quot;form-control&quot; placeholder=&quot;邮箱&quot; &gt; &lt;/div&gt; &lt;div class=&quot;form-group&quot; align=&quot;center&quot;&gt; &lt;label&gt;学院&lt;/label&gt; &lt;input type=&quot;text&quot; name=&quot;college&quot; class=&quot;form-control&quot; placeholder=&quot;学院&quot; &gt; &lt;/div&gt; &lt;div class=&quot;form-group&quot; align=&quot;center&quot;&gt; &lt;label&gt;专业&lt;/label&gt; &lt;input type=&quot;text&quot; name=&quot;major&quot; class=&quot;form-control&quot; placeholder=&quot;专业&quot; &gt; &lt;/div&gt; &lt;div align=&quot;center&quot;&gt; &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot; &gt;提交&lt;/button&gt; &lt;/div&gt; &lt;/form&gt; &lt;/body&gt;&lt;/html&gt; 2.编写控制器、路由，并测试index页面是否打通123456789signControllerpublic function index()&#123; return view(&apos;form.sign&apos;);&#125;routeRoute::get(&apos;sign/index&apos;, &apos;signController@index&apos;);Route::post(&apos;sign/form&apos;, &apos;signController@form&apos;); PS：测试前需要关闭App/Http/MiddleWare/VerifyCsrfToken.php的csrf验证3.创建模型、迁移文件在控制台下输入php artisan make:model Signphp artisan make:migration create_signs_tablePS：Model类默认的数据表为派生的Model类名+s,所以创建的数据表名为signs4.编写迁移文件，修改.env文件，通过迁移文件在数据库中快速创建数据表123456789101112131415161718192021迁移文件Schema::create(&apos;signs&apos;, function (Blueprint $table) &#123; $table-&gt;bigIncrements(&apos;id&apos;); $table-&gt;integer(&apos;stuId&apos;); $table-&gt;string(&apos;name&apos;); $table-&gt;integer(&apos;age&apos;); $table-&gt;string(&apos;email&apos;); $table-&gt;string(&apos;college&apos;); $table-&gt;string(&apos;major&apos;); $table-&gt;timestamps(); &#125;);.env文件DB_DATABASE= databaseDB_USERNAME= usernameDB_PASSWORD= password 创建数据表artisan migratePS:如果提示字符过长，则在App/Providers/AppserviceProvider.php的boot方法定义字符长度Schema::defaultStringLength(225); 5.编写Api12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182报名APi：处理对输入的正确性检测以及向数据库写入class ApiSign&#123; /** * 判断输入是否正确 * @param $request * @return bool */ public function Judge($request) &#123; $arr = [ &apos;stuId&apos;, &apos;name&apos;, &apos;age&apos;, &apos;email&apos;, &apos;college&apos;, &apos;major&apos; ]; foreach ($arr as $key) &#123; if($request[$key] == null) &#123; throw new ApiException(ApiErrorCode::ERROR_INFO_NOT_COMPLETE); &#125; &#125; $stuId = $request[&apos;stuId&apos;]; if($stuId &lt; 20180000 || $stuId &gt;= 20190000 || !is_numeric($stuId)) &#123; throw new ApiException(ApiErrorCode::ERROR_STUID); &#125; $age = $request[&apos;age&apos;]; if(!is_numeric($age) || $age &lt; 18 || $age &gt; 100) &#123; throw new ApiException(ApiErrorCode::ERROR_AGE_NOT_EXIST); &#125; // 邮箱地址验证 if( !preg_match(&apos;/[a-zA-Z0-9]+@[a-zA-Z0-9]+.(com|cn)/&apos;, $request[&apos;email&apos;])) &#123; throw new ApiException(ApiErrorCode::ERROR_EMAIL); &#125; return true; &#125; /** * 向数据库中写入数据 * @param $request */ public function write($request) &#123; $stuId = intval($request[&apos;stuId&apos;]); $ret = DB::table(&apos;signs&apos;)-&gt;where(&apos;stuId&apos;, &apos;=&apos;, $stuId)-&gt;first(); $age = intval($request[&apos;age&apos;]); $time = time(&apos;Y-m-d H:i:s&apos;); if($ret == null) &#123; $sign = new Sign(); $sign-&gt;stuId = $stuId; $sign-&gt;name = $request[&apos;name&apos;]; $sign-&gt;age = $age; $sign-&gt;email = $request[&apos;email&apos;]; $sign-&gt;college = $request[&apos;college&apos;]; $sign-&gt;major = $request[&apos;major&apos;]; $sign-&gt;save(); throw new ApiException(ApiErrorCode::SUCCESS); &#125;else &#123; throw new ApiException(ApiErrorCode::ERROR_INFO_EXIST); &#125; &#125;&#125;异常Api：返回一些异常信息class ApiException extends \RuntimeException&#123; public function __construct(array $ApiErrorConst,Throwable $previous = null) &#123; $code = $ApiErrorConst[0]; $message = $ApiErrorConst[1]; parent::__construct($message, $code, $previous); &#125;&#125;class ApiErrorCode&#123; /** * 错误码定义 */ const SUCCESS = [0, &apos;success&apos;]; const ERROR_INFO_NOT_COMPLETE = [1, &apos;填写信息不全&apos;]; const ERROR_STUID = [2, &apos;学号不存在&apos;]; const ERROR_EMAIL = [3, &apos;邮箱错误&apos;]; const ERROR_INFO_EXIST = [4, &apos;报名信息已存在&apos;]; const ERROR_AGE_NOT_EXIST = [5, &apos;年龄不正确&apos;];&#125; 6.ORM模型操作数据库的相关配置12345678910111213class Sign extends Model&#123; /** * 定义操作的数据表 * @var string */ protected $table = &apos;signs&apos;; /** * 设置时间戳格式 * @var string */ protected $dateFormat = &apos;Y-m-d H:i:s&apos;;&#125; 7.Test！]]></content>
      <categories>
        <category>web开发</category>
        <category>项目</category>
      </categories>
      <tags>
        <tag>laravel</tag>
        <tag>后端</tag>
        <tag>报名系统</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Z字形变换]]></title>
    <url>%2F2019%2F05%2F24%2FZ%E5%AD%97%E5%BD%A2%E5%8F%98%E6%8D%A2%2F</url>
    <content type="text"><![CDATA[–&gt;传送门示例 1： 输入: s = “LEETCODEISHIRING”, numRows = 3输出: “LCIRETOESIIGEDHN”解释：L C I RE T O E S I I GE D H N 示例 2： 输入: s = “LEETCODEISHIRING”, numRows = 4输出: “LDREOEIIECIHNTSG”解释:L D RE O E I IE C I H NT S G(原创)思路：根据Z字形排列规律，先找出排在第1行的字符，按找出顺序加到返回的字符串中，再行数累加，重复操作。所以，关键就在于如何找出排在每行的字符。将倒立Z的左竖列和斜对角线上的字符(不包括下一个竖列的第一个字符)作为一个周期，竖行上的字符显然满足 (j+1)%t==i 条件，而对角线上的字符需要分类讨论，处理周期问题，常用的运算符为%。所以判断条件为 numRows-((j+1)%t-numRows)==i ， 整理得 (2*numRows-(j+1)%t)==i，又因为(j+1)%t==0的情况不是预期，所以要分类讨论下。此外，由于竖行和对角线的判断在最后一行时同时满足，故需要加个格外条件。最后，遗漏了当 numRows==1 时，程序会发生错误，需将该情况另外处理。1234567891011121314151617181920212223242526272829class Solution &#123;public: string convert(string s, int numRows) &#123; string str = &quot;&quot;; int len = s.size(); if(numRows==1) return s; int k=0,t = 2*numRows-2,ans=0; for(int i=1; i&lt;=numRows; i++) &#123; for(int j=0; j&lt;len; j++) &#123; if((j+1)%t==i &amp;&amp; i!=numRows) &#123; str+=s[j]; &#125; if((j+1)%t!=0 &amp;&amp; (2*numRows-(j+1)%t)==i) &#123; str+=s[j]; &#125;else if((j+1)%t==0 &amp;&amp; (2*numRows-t)==i) &#123; str+=s[j]; &#125; &#125; &#125; return str; &#125;&#125;;]]></content>
      <categories>
        <category>题解</category>
      </categories>
      <tags>
        <tag>C++</tag>
        <tag>String</tag>
        <tag>找规律</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[messageBoard]]></title>
    <url>%2F2019%2F05%2F03%2FmessageBoard%2F</url>
    <content type="text"><![CDATA[留言板功能实现PS：HTML，CSS，以及留言板功能类型借鉴了大牛的博客资源，留言板具体功能为自己实现。一、留言板功能（1）在主界面显示已添加的留言（2）添加留言（3）管理员登录（4）修改留言（5）删除留言二、具体代码 主界面： index.php &lt;html&gt; &lt;head&gt; &lt;title&gt;欢迎来到小灰灰的留言本吼吼吼&lt;/title&gt; &lt;style type=&quot;text/css&quot;&gt; TD { font-size: 12px; line-height: 150%; } &lt;/style&gt; &lt;/head&gt; &lt;body&gt; &lt;table border=1 cellspacing=0 cellspadding=0 style=&quot;border-collapse:collapse&quot; align=center width=480 bordercolor=black height=382&gt; &lt;tr&gt; &lt;td height=100 bgcolor=#6c6c6c style=&quot;font-size:30px;line-height:30px&quot;&gt; &lt;font color=#ffffff face=&quot;黑体&quot;&gt;欢迎来到小灰灰的留言本吼吼吼&lt;/font&gt; &lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td height=25&gt; &lt;a href=send.php&gt;[我要写留言]&lt;/a&gt; &lt;a href=login.php&gt;[管理留言]&lt;/a&gt; &lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td height=200&gt; &lt;?php $conn = mysqli_connect(&apos;localhost&apos;, &apos;username&apos;, &apos;userpassword&apos;); if (!$conn) { die(&apos;connect error&apos; . mysqli_error($conn)); } $sql = &quot;SELECT * FROM messageboard ORDER BY dateline DESC&quot;; mysqli_select_db($conn, &apos;test&apos;); $retval = mysqli_query($conn, $sql); if (!$retval) { die(&apos;use database error!&apos;); } else { $dataNum = mysqli_num_rows($retval); $i = 0; while ($row = mysqli_fetch_assoc($retval)) { echo &apos;-&gt;[&apos; . $row[&apos;author&apos;] . &apos;] on &apos; . $row[&apos;dateline&apos;] . &apos; saied：&lt;br&gt;&apos; . $row[&apos;message&apos;]; if ($dataNum &gt; 1 &amp;&amp; (++$i) != $dataNum) echo &apos;&lt;hr&gt;&apos;; } } mysqli_close($conn); ?&gt; &lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td height=80 bgcolor=#6c6c6c align=center&gt; &lt;font color=&quot;#FFFFFF&quot;&gt; 版权所有：&lt;a href=&quot;https://gitee.com/hui_net/LearnRecords&quot;&gt;小灰灰的码云&lt;/a&gt;&lt;br&gt; E-mail:neuq-xjh@foxmail.com &lt;/font&gt; &lt;/td&gt; &lt;/tr&gt; &lt;/table&gt; &lt;/body&gt; &lt;/html&gt; 留言界面： send.php &lt;!-- 1.用户填写留言部分 send.php --&gt; &lt;!-- 可以首先编写send页面，只有用户提交了留言才能进行后面的留言显示，留言管理等等 --&gt; &lt;html&gt; &lt;head&gt; &lt;title&gt;欢迎来到小灰灰的留言本吼吼吼&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;!-- border-collapse:collapse合并表格的边框 --&gt; &lt;table border=1 cellspacing=0 cellspadding=0 style=&quot;border-collapse:collapse&quot; align=center width=600 bordercolor=black&gt; &lt;tr&gt; &lt;td height=100 bgcolor=#6c6c6c&gt; &lt;font style=&quot;font-size:30px&quot; color=#ffffff face=&quot;黑体&quot;&gt;欢迎来到小灰灰的留言本吼吼吼&lt;/font&gt; &lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td height=30&gt; &lt;a href=send.php&gt;[我要写留言]&lt;/a&gt; &lt;a href=login.php&gt;[管理留言]&lt;/a&gt; &lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td height=200&gt; &lt;form method=&quot;POST&quot; action=&quot;send.php&quot;&gt; &lt;table border=&quot;1&quot; width=&quot;95%&quot; id=&quot;table1&quot; cellspacing=&quot;0&quot; cellpadding=&quot;0&quot; bordercolor=&quot;#808080&quot; style=&quot;border-collapse:collapse&quot; height=&quot;265&quot;&gt; &lt;tr&gt; &lt;td colspan=&quot;2&quot; height=&quot;30&quot;&gt; &lt;p align=&quot;center&quot;&gt;欢迎填写你的留言&lt;/p&gt; &lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td width=&quot;40%&quot;&gt; &lt;p align=&quot;left&quot;&gt;你的名字&lt;/p&gt; &lt;/td&gt; &lt;td width=&quot;67%&quot;&gt; &lt;input type=&quot;text&quot; name=&quot;name&quot; size=&quot;25&quot;&gt; &lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td width=&quot;40%&quot;&gt; &lt;p align=&quot;left&quot;&gt;留言内容&lt;/p&gt; &lt;/td&gt; &lt;td width=&quot;67%&quot;&gt; &lt;textarea rows=&quot;10&quot; name=&quot;content&quot; cols=&quot;58&quot;&gt;&lt;/textarea&gt; &lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td width=&quot;99%&quot; colspan=&quot;4&quot;&gt; &lt;p align=&quot;center&quot;&gt; &lt;input type=&quot;submit&quot; value=&quot;提交&quot; name=&quot;B1&quot;&gt; &lt;/p&gt; &lt;/td&gt; &lt;/tr&gt; &lt;/table&gt; &lt;/form&gt; &lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td height=80 bgcolor=#6c6c6c align=center&gt; &lt;font color=&quot;#FFFFFF&quot;&gt; 版权所有：&lt;a href=&quot;https://gitee.com/hui_net/LearnRecords&quot;&gt;小灰灰的码云&lt;/a&gt;&lt;br&gt; E-mail:neuq-xjh@foxmail.com &lt;/font&gt; &lt;/td&gt; &lt;/tr&gt; &lt;/table&gt; &lt;/body&gt; &lt;/html&gt; &lt;?php $name = $_POST[&quot;name&quot;]; if ($name != null) { $content = $_POST[&quot;content&quot;]; $addtime = date(&quot;Y-m-d h:i:s&quot;); $link = mysqli_connect(&quot;localhost&quot;, &quot;username&quot;, &quot;userpassword&quot;); if ($link) echo &quot;connect success!&lt;br&gt;&quot;; else { echo &quot;connect error!&lt;br&gt;&quot;; } mysqli_select_db($link, &quot;test&quot;); $sql = &quot;INSERT INTO messageboard(author,dateline,message,response) VALUES(&apos;$name&apos;,&apos;$addtime&apos;,&apos;$content&apos;,&apos;&apos;)&quot;; mysqli_query($link, $sql); mysqli_close($link); echo &quot;&lt;script&gt; alert(&apos;留言成功!单击确定查看留言.&apos;); location.href=&apos;index.php&apos;; &lt;/script&gt;&quot;; } ?&gt; 登录界面： login.php &lt;!-- 3.管理员登录页面 login.php --&gt; &lt;!-- 供管理员登录 --&gt; &lt;!-- 体会session实现用户登录的方法 --&gt; &lt;html&gt; &lt;head&gt; &lt;title&gt;欢迎来到小灰灰的留言本吼吼吼&lt;/title&gt; &lt;/heda&gt; &lt;body&gt; &lt;table border=1 cellspacing=0 cellspadding=0 style=&quot;border-collapse:collapse&quot; align=center width=400 bordercolor=black height=&quot;358&quot;&gt; &lt;tr&gt; &lt;td height=100 bgcolor=#6c6c6c style=&quot;font-size:30px;line-height:30px&quot;&gt; &lt;font color=#ffffff face=&quot;黑体&quot;&gt;欢迎来到小灰灰的留言本吼吼吼&lt;/font&gt; &lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td height=25&gt; &lt;a href=send.php&gt;[我要写留言]&lt;/a&gt; &lt;a href=login.php&gt;[管理留言]&lt;/a&gt; &lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td height=178&gt; &lt;form method=&quot;POST&quot; action=&quot;login.php&quot;&gt; &lt;table border=&quot;1&quot; width=&quot;95%&quot; id=&quot;table1&quot; cellspcing=&quot;0&quot; cellpadding=&quot;0&quot; bordercolor=&quot;#808080&quot; style=&quot;border-collapse&quot; height=&quot;154&quot;&gt; &lt;tr&gt; &lt;td colspan=&quot;2&quot; height=&quot;29&quot;&gt; &lt;p align=&quot;center&quot;&gt;欢迎管理员登录&lt;/p&gt; &lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td width=&quot;32%&quot;&gt; &lt;p align=&quot;center&quot;&gt;用户名&lt;/P&gt; &lt;/td&gt; &lt;td width=&quot;67%&quot;&gt; &lt;input type=&quot;text&quot; name=&quot;name&quot; size=&quot;20&quot;&gt; &lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td width=&quot;32%&quot;&gt; &lt;p align=&quot;center&quot;&gt;密 码&lt;/p&gt; &lt;/td&gt; &lt;td&gt; &lt;input type=&quot;password&quot; name=&quot;password&quot; size=&quot;20&quot;&gt; &lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td width=&quot;99%&quot; colspan=&quot;2&quot;&gt; &lt;p align=&quot;center&quot;&gt;&lt;input type=&quot;submit&quot; value=&quot;登录&quot; name=&quot;B1&quot;&gt;&lt;/p&gt; &lt;/td&gt; &lt;/tr&gt; &lt;/table&gt; &lt;/form&gt; &lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td height=80 bgcolor=#6c6c6c align=center&gt; &lt;font color=&quot;#FFFFFF&quot;&gt; 版权所有：&lt;a href=&quot;https://gitee.com/hui_net/LearnRecords&quot;&gt;小灰灰的码云&lt;/a&gt;&lt;br&gt; E-mail:neuq-xjh@Foxmail.com &lt;/font&gt; &lt;/td&gt; &lt;/tr&gt; &lt;/table&gt; &lt;/body&gt; &lt;/html&gt; &lt;?php $guestName = $_POST[&apos;name&apos;]; $guestPass = $_POST[&apos;password&apos;]; if($guestName!=null &amp;&amp; $guestPass!=null){ $link = mysqli_connect(&apos;localhost&apos;,&apos;username&apos;,&apos;userpassword&apos;); if(!$link){ die(&apos;connect error&apos;.mysqli_error($link)); } mysqli_select_db($link,&apos;test&apos;); $sql = &quot;SELECT * FROM admin WHERE username=&apos;$guestName&apos;&quot;; $retval = mysqli_query($link,$sql); if(mysqli_num_rows($retval) &gt; 0){ $info = mysqli_fetch_array($retval); if($info[&apos;userpass&apos;]==$guestPass){ echo &quot;&lt;script&gt; alert(&apos;log success!&apos;); location.href=&apos;manage.php&apos;; &lt;/script&gt;&quot;; }else{ echo &quot;&lt;script&gt; alert(&apos;log fail!&apos;); &lt;/script&gt;&quot;; } }else{ echo &quot;&lt;script&gt; alert(&apos;guest not exist!&apos;); &lt;/script&gt;&quot;; } } ?&gt; 管理界面： manage.php &lt;!DOCTYPE HTML&gt; &lt;HTML&gt; &lt;Head&gt; &lt;meta http-equiv=&quot;CONTENT-TYPE&quot; ; content=&quot;text/html&quot; ; charset=&quot;UTF-8&quot;&gt; &lt;title&gt;留言列表&lt;/title&gt; &lt;style type=&quot;text/css&quot;&gt; &lt;/style&gt; &lt;/Head&gt; &lt;body&gt; &lt;div&gt; &lt;table&gt; &lt;tr&gt; &lt;th&gt;ID&lt;/th&gt; &lt;th&gt;Name&lt;/th&gt; &lt;th&gt;Time&lt;/th&gt; &lt;th class=&quot;content&quot;&gt;Content&lt;/th&gt; &lt;th&gt;操作&lt;/th&gt; &lt;/tr&gt; &lt;?php $conn = mysqli_connect(&apos;localhost&apos;, &apos;username&apos;, &apos;userpassword&apos;); if (!$conn) { die(&apos;connect error&apos; . mysqli_error($conn)); } mysqli_select_db($conn, &apos;test&apos;); $sql = &apos;SELECT * FROM messageboard&apos;; $retval = mysqli_query($conn, $sql); if ($retval) { while ($v = mysqli_fetch_assoc($retval)) { ?&gt; &lt;tr&gt; &lt;td&gt;&lt;?php echo $v[&apos;id&apos;]; ?&gt;&lt;/td&gt; &lt;td&gt;&lt;?php echo $v[&apos;author&apos;]; ?&gt;&lt;/td&gt; &lt;td&gt;&lt;?php echo $v[&apos;dateline&apos;]; ?&gt;&lt;/td&gt; &lt;td&gt;&lt;?php echo $v[&apos;message&apos;]; ?&gt;&lt;/td&gt; &lt;td&gt; &lt;a href=&quot;changeContent.php?id=&lt;?= $v[&apos;id&apos;] ?&gt;&quot;&gt;修改&lt;/a&gt; &lt;a href=&quot;delete.php?id=&lt;?= $v[&apos;id&apos;] ?&gt;&quot;&gt;删除&lt;/a&gt; &lt;/td&gt; &lt;/tr&gt; &lt;?php } } else { echo &apos;mysqli_query() error!&apos;; } ?&gt; &lt;table&gt; &lt;/div&gt; &lt;/body&gt; &lt;a href=&quot;index.php&quot;&gt;&lt;------返回主界面------&gt;&lt;/a&gt; &lt;/HTML&gt; 修改界面： changeContent.php &lt;?php $id = $_GET[&apos;id&apos;]; $link = mysqli_connect(&apos;localhost&apos;, &apos;username&apos;, &apos;userpassword&apos;); mysqli_select_db($link,&apos;test&apos;); $sql = &quot;SELECT * FROM messageboard WHERE id=&quot; . $id; $retval = mysqli_query($link, $sql); if ($retval) { while ($row = mysqli_fetch_assoc($retval)) { ?&gt; &lt;form method=&quot;POST&quot; action=&quot;update.php&quot; &gt; &lt;input type=&quot;hidden&quot; name=&quot;id&quot; value=&quot;&lt;?= $row[&apos;id&apos;] ?&gt;&quot;&gt; 你的名字：&lt;INPUT TYPE=&quot;text&quot; NAME=&quot;name&quot; value=&quot;&lt;?= $row[&apos;author&apos;] ?&gt;&quot; /&gt;&lt;br /&gt; 留言内容：&lt;TEXTAREA NAME=&quot;content&quot; ROWS=&quot;8&quot; COLS=&quot;30&quot;&gt;&lt;?= $row[&apos;message&apos;] ?&gt;&lt;/TEXTAREA&gt;&lt;br /&gt; &lt;INPUT TYPE=&quot;submit&quot; value=&apos;提交修改&apos;/&gt; &lt;/FORM&gt; &lt;?php } } ?&gt; update.php &lt;?php $name = $_POST[&apos;name&apos;]; $content = $_POST[&apos;content&apos;]; $time = date(&quot;Y-m-d h:i:s&quot;); $link = mysqli_connect(&apos;localhost&apos;, &apos;username&apos;, &apos;userpassword&apos;); if (!$link) { die(&apos;connect error&apos; . mysqli_error($link)); } mysqli_select_db($link, &apos;test&apos;); $sql = &apos;UPDATE messageboard SET author=&quot;&apos; . $name . &apos;&quot;,message=&quot;&apos; . $content . &apos;&quot;,dateline=&quot;&apos; . $time . &apos;&quot; WHERE id=&quot;&apos; . $_POST[&apos;id&apos;] . &apos;&quot;&apos;; $retval = mysqli_query($link, $sql); if ($retval) { echo &apos;修改成功，3秒后自动跳转......&apos;; ?&gt; &lt;meta http-equiv=&quot;refresh&quot; content=&quot;3;url=manage.php&quot;&gt; &lt;?php } else { echo &apos;修改失败，3秒后自动跳转......&apos;; ?&gt; &lt;meta http-equiv=&quot;refresh&quot; content=&quot;3;url=manage.php&quot;&gt; &lt;?php } ?&gt; 删除界面： delete.php &lt;html&gt; &lt;?php $link = mysqli_connect(&apos;localhost&apos;, &apos;username&apos;, &apos;userpassword&apos;); if (!$link) { die(&apos;connect error&apos; . mysqli_error($link)); } mysqli_select_db($link, &apos;test&apos;); $id = $_GET[&apos;id&apos;]; $sql = &apos;DELETE FROM messageboard WHERE id=&apos;.$id; $retval = mysqli_query($link, $sql); if ($retval) { echo &apos;删除成功，3秒后自动跳转......&apos;; ?&gt; &lt;meta http-equiv=&quot;refresh&quot; content=&quot;3;url=manage.php&quot;&gt; &lt;?php } else { echo &apos;删除失败，3秒后自动跳转......&apos;; } ?&gt; &lt;/html&gt;]]></content>
      <categories>
        <category>web开发</category>
      </categories>
      <tags>
        <tag>PHP</tag>
        <tag>留言板</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[loginBySession]]></title>
    <url>%2F2019%2F05%2F03%2FloginBySession%2F</url>
    <content type="text"><![CDATA[登录功能（session） Login.html &lt;!DOCTYPE html&gt; &lt;html lang=&quot;en&quot;&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title&gt;Login&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;hr size=&quot;1&quot;&gt; &lt;form action=&quot;log.php&quot; method=&quot;post&quot; &gt; 用户：&lt;input type=&quot;text&quot; name=&quot;username&quot;/&gt;&lt;br&gt; 密码：&lt;input type=&quot;text&quot; name=&quot;password&quot; /&gt;&lt;br&gt; &lt;input type=&quot;submit&quot; name=&apos;login&apos; value=&quot;登录&quot;&gt; &lt;/form&gt; Login.php &lt;?php header(&apos;content-type:text/html;charset=utf-8&apos;); //获取表单的用户名和密码 if ($_SERVER[&apos;REQUEST_METHOD&apos;] == &apos;POST&apos;) { if (empty($_POST[&apos;username&apos;])){ echo &quot;&lt;script&gt;alert(&apos;用户名不能为空！&apos;);location.href=&apos;login.html&apos;;&lt;/script&gt;&quot;; }else { $username=trim($_POST[&apos;username&apos;]); } if (empty($_POST[&apos;password&apos;])){ echo &quot;&lt;script&gt;alert(&apos;密码不能为空！&apos;);location.href=&apos;login.html&apos;;&lt;/script&gt;&quot;; }else{ $password=$_POST[&apos;password&apos;]; } } //连接数据库，查询并返回用户信息 $link = mysqli_connect(&apos;localhost&apos;,&apos;username&apos;,&apos;userpassword&apos;); if(!$link){ echo &apos;connect error!&apos;; } mysqli_select_db($link,&apos;test&apos;); $sql = &quot;SELECT userpass FROM admin WHERE username=&quot;.&quot;&apos;$username&apos;&quot;; $retval = mysqli_query($link,$sql); if($retval){ $retpass = $retval-&gt;fetch_row(); }else{ echo &apos;sql error!&apos;; } if($retpass){ if($password != $retpass[0]){ echo &quot;&lt;script&gt;alert(&apos;密码错误！&apos;);location.href=&apos;login.html&apos;;&lt;/script&gt;&quot;; }else{ $expire=3600; ini_set(&apos;session.gc_maxlifetime&apos;,$expire); //初始化PHP session的有效期为一小时 //更改php.ini配置文件的值，在脚本生命周期中有效，脚本结束则失效 if(empty($_COOKIE[&apos;PHPSESSION&apos;])){ session_set_cookie_params($expire); //该函数必须在session_start()函数前使用 session_start(); }else{ session_start(); setcookie(&apos;PHPSESSION&apos;,session_id(),time() + $expire); } if(isset($_SESSION[&apos;username&apos;])){ exit(&quot;您已经登入了，请不要重新登入！用户名：{$_SESSION[&apos;username&apos;]}---&lt;a href=&apos;logout.php&apos;&gt;注销&lt;/a&gt;&quot;); }else{ $_SESSION[&apos;username&apos;]=$username; } echo &quot;&lt;script&gt;alert(&apos;登录成功！&apos;);&lt;/script&gt;&lt;br&gt;&quot;; echo &quot;您好！{$_SESSION[&apos;username&apos;]},欢迎回来！&quot;; echo &quot;&lt;a href=&apos;logout.php&apos;&gt;注销&lt;/a&gt;&quot;; } }else{ echo &quot;&lt;script&gt;alert(&apos;没有此用户！&apos;);location.href=&apos;login.html&apos;;&lt;/script&gt;&quot;; } Logout.php &lt;?php header(&apos;content-type:text/html;charset=utf-8&apos;); session_start(); if(isset($_SESSION[&apos;username&apos;])){ session_unset($_SESSION[&apos;username&apos;]); //释放所有会话变量 session_destroy(); //销毁一个会话的全部数据 setcookie(session_name(),&apos;&apos;); //销毁保存在客户端 Cookie 中的 Session ID echo &quot;&lt;script&gt; alert(&apos;注销成功！&apos;); location.href=&apos;login.html&apos;; &lt;/script&gt;&quot;; }else{ echo &quot;&lt;script&gt; alert(&apos;注销失败！&apos;); &lt;/script&gt;&quot;; }]]></content>
      <categories>
        <category>web开发</category>
      </categories>
      <tags>
        <tag>PHP</tag>
        <tag>login</tag>
        <tag>Session</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[longestPalindrome]]></title>
    <url>%2F2019%2F05%2F03%2FlongestPalindrome%2F</url>
    <content type="text"><![CDATA[–&gt;传送门示例 1： 输入: “babad”输出: “bab”注意: “aba” 也是一个有效答案。 示例 2： 输入: “cbbd”输出: “bb” 超时算法(滑动窗口算法，易于理解）：思路：从某一窗口长度开始，从0滑动到n-1的位置，判断子串是否为回文，再递增窗口长度。（窗口长度从1开始最一般，下面算法为从2开始） int check(string s) //判断是否为回文 { int n = s.size(); int k = n/2; if(k==0) { return 1; } else { int i=0,f=1; for(i; i&lt;k; i++) { if(s[i]!=s[n-i-1]) { f=0; break; } } if(f==1) { return 1; } else { return 0; } } } string longestPalindrome(string s) { int len = s.size(); if(len&lt;=1) { return s; } string str = &quot;&quot;; str+=s[0]; str+=s[1]; int f=0; for(int i=2; i&lt;len + 1; i++) { for(int j=0; j&lt;len-i+1 ; j++) { int k=0; string ss=&quot;&quot;; while(k&lt;i) //可用substr函数代替 { ss+=s[j+k]; k++; } if(check(ss)) { f=1; str = ss; break; } } } if(f==1) { return str; } str=&quot;&quot;; str+=s[0]; return str; } 正确O(n^2)时间复杂度算法：动态规划算法：思路：核心思想在于避免验证回文时的不必要的重复计算。从左往右验证，找出最长回文子串的开始与结束位置。递推公式为 P(i,j)=(s[i] == s[j]) &amp;&amp; (P[i-1][j+1])PS：需考虑字母数为偶数回文的特殊情况，和确定判断条件。 class Solution { public: string longestPalindrome(string s) { int len = s.size(); if(len &lt;= 1) return s; int left=0,right=0; int book[1000][1000]={0}; //1符合，0不符合 for(int i=0;i&lt;len;i++){ book[i][i]=1; //单个字母为回文 for(int j=i-1;j&gt;=0;j--){ book[i][j] = (s[i] == s[j]) &amp;&amp; (book[i-1][j+1] || i-j==1); //注意i-j==1条件不能少 //cout&lt;&lt;j&lt;&lt;&apos; &apos;&lt;&lt;i&lt;&lt;&apos; &apos;&lt;&lt;book[i][j]&lt;&lt;endl; if(book[i][j] &amp;&amp; (i-j)&gt;(right-left)){ left = j; right = i; } } } string longest=&quot;&quot;; longest=s.substr(left,right-left+1); return longest; } }; 中心扩展算法：思路：由于回文关于中心对称，所以回文可以从中心展开，其中，共有2*n-1个中心（考虑字母数为偶数的回文）难点：expandAroundCenter()函数的返回值计算与start和end位置的确定。 class Solution { public: string longestPalindrome(string s) { int len = s.size(); if(len&lt;=1) return s; int start=0,end=0; for(int i=0;i&lt;len;i++){ int len1 = expandAroundCenter(s,i,i); int len2 = expandAroundCenter(s,i,i+1); //cout&lt;&lt;i&lt;&lt;&apos; &apos;&lt;&lt;len1&lt;&lt;&apos; &apos;&lt;&lt;len2&lt;&lt;endl; int len = len1 &gt; len2?len1:len2; if(len &gt; end-start){ if(len==len1){ //进一步归纳，len==len2情况的计算符合所有情况 start = i-len/2; end = i + len/2; }else{ start=i- (len-1)/2; end=i + len/2; } } } string longest=&quot;&quot;; longest=s.substr(start,end-start+1); return longest; } int expandAroundCenter(string s,int left,int right){ while(left&gt;=0 &amp;&amp; right&lt;s.size() &amp;&amp;s[left]==s[right]){ left--;right++; } return right-left-1; //注意长度不是right-left+1 } };]]></content>
      <categories>
        <category>题解</category>
      </categories>
      <tags>
        <tag>C++</tag>
        <tag>String</tag>
        <tag>algorithm</tag>
        <tag>回文串</tag>
        <tag>动态规划</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[lengthOfLongestSubstring]]></title>
    <url>%2F2019%2F05%2F02%2FlengthOfLongestSubstring%2F</url>
    <content type="text"><![CDATA[题目简述：给定一个字符串，请你找出其中不含有重复字符的 最长子串 的长度。–&gt;传送门示例 1： 输入: &quot;abcabcbb&quot; 输出: 3 解释: 因为无重复字符的最长子串是 &quot;abc&quot;，所以其长度为 3。 示例 2： 输入: &quot;bbbbb&quot; 输出: 1 解释: 因为无重复字符的最长子串是 &quot;b&quot;，所以其长度为 1。 示例 3： 输入: &quot;pwwkew&quot; 输出: 3 解释: 因为无重复字符的最长子串是 &quot;wke&quot;，所以其长度为 3。请注意，你的答案必须是 子串 的长度，&quot;pwke&quot; 是一个子序列，不是子串。 个人超时解法： class Solution { public: int max=0; int notBelong(string s,char c){ int f=1; for(int i=0;i&lt;s.size();i++){ if(c==s[i]){ f=0;break; } } if(f==1) return 1; else return 0; } int lengthOfLongestSubstring(string s) { if(s.size()==0) //当s的长度为0或1时的出错情况任意忽视 return 0; else if(s.size()==1) return 1; else { for(int i=0;i&lt;s.size()-1;i++){ string str=&quot;&quot;; str+=s[i]; for(int j=i+1;j&lt;s.size();j++){ if(notBelong(str,s[j])){ str+=s[j]; }else{ if(str.size()&gt;max) max=str.size(); break; } } if(str.size()&gt;max) max=str.size(); } return max; } } }; 思路(摘自力扣题解)：滑动窗口算法，窗口指由开始和结束索引i,j定义的一个集合。将子串存入一个容器，如果s[j]不包含于子串中，向右滑动索引j，即j++;如果s[j]包含于子串中，则i++，窗口缩小。其中，在j++之后，取ans和（j-i）的最大值，即在线得到子串长度的最大值。 class Solution { public: int lengthOfLongestSubstring(string s) { int n=s.size(); set&lt;char&gt; ss; int ans=0,i=0,j=0; while(i&lt;n &amp;&amp; j&lt;n){ if(find(ss.begin(),ss.end(),s[j])==ss.end()){ ss.insert(s[j++]); ans= ans&gt;(j-i)? ans: j-i; }else{ ss.erase(s[i++]); } } return ans; } }; map法优化：我们可以定义字符到索引的映射，而不是使用集合来判断一个字符是否存在。 当我们找到重复的字符时，我们可以立即跳过该窗口。如果s[j]在[i,j)范围内有与j’重复的字符，不是逐渐增加i，而是直接跳过[i,j’]的范围内的所有元素，将i变为j’+1。（注意取i和j’+1的较大值，eg：”abba”） class Solution { public: int lengthOfLongestSubstring(string s) { int n=s.size(); map&lt;char,int&gt; m; int ans =0; for(int j=0,i=0;j&lt;n;j++){ if(m.find(s[j])!=m.end()){ i= m[s[j]]&gt;i? m[s[j]]: i; } ans = ans &gt; (j-i+1)? ans : (j-i+1); m[s[j]]=j+1; } return ans; } };]]></content>
      <categories>
        <category>题解</category>
      </categories>
      <tags>
        <tag>C++</tag>
        <tag>String</tag>
        <tag>algorithm</tag>
      </tags>
  </entry>
</search>
